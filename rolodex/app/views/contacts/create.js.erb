<% if @contact.errors.any? %>
  /*Hide the flash notice div*/
  $(".notice").hide(300);

  /*Update the html of the div contact_errors with the new one*/
  $("#contact_errors").html("<%= escape_javascript(error_messages_for(@contact))%>");

  /*Show the div contact_errors*/
  $("#contact_errors").show(300);
<% else %>
  /*Hide the div contact_errors*/
  $("#contact_errors").hide(300);

  /*Update the html of the div flash_notice with the new one*/
  $(".notice").html("<%= escape_javascript(flash[:notice])%>");

  /*Show the flash_notice div*/
  $(".notice").show(300);

  /*Replace the html of the div contact_lists with the updated new one*/
  $("#contact_list").html("<%= escape_javascript( render(:partial => "contacts") ) %>");
  $("#contact_form").hide(300);
<% end %>
  $("#contact_list .contact_edit").click(function() {$('#contact_form').show();return false;});